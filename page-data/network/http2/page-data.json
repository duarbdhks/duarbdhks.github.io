{"componentChunkName":"component---src-templates-blog-post-js","path":"/network/http2/","result":{"data":{"site":{"siteMetadata":{"title":"YGW Develop","author":"염규완","siteUrl":"https://duarbdhks.github.io","comment":{"disqusShortName":"","utterances":"duarbdhks/gatsby-starter-bee"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"43d83062-2bab-564b-807e-c18ba56b3c86","excerpt":"HTTP/2 에 오기까지.. 개요 HTTP? HTTP/0.9 HTTP/1.0 HTTP/1.1 HTTP/1.1 동작 원리 HTTP/1.1 단점 HTTP/1.1 단점 극복 방법 SPDY HTTP/2 Multiplexed Streams Header Compression Binary protocol Server Push Stream Prioritization 개요 HTTP 는 Hyper Text Transfer Protocol 의 약자로 Hyper Text…","html":"<h1 id=\"http2-에-오기까지\" style=\"position:relative;\"><a href=\"#http2-%EC%97%90-%EC%98%A4%EA%B8%B0%EA%B9%8C%EC%A7%80\" aria-label=\"http2 에 오기까지 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HTTP/2 에 오기까지..</h1>\n<ol>\n<li><a href=\"#%EA%B0%9C%EC%9A%94\">개요</a></li>\n<li>\n<p><a href=\"#http\">HTTP?</a></p>\n<ul>\n<li><a href=\"#http09\">HTTP/0.9</a></li>\n<li><a href=\"#http10\">HTTP/1.0</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#http11\">HTTP/1.1</a></p>\n<ul>\n<li><a href=\"#http11-%EB%8F%99%EC%9E%91-%EC%9B%90%EB%A6%AC\">HTTP/1.1 동작 원리</a></li>\n<li><a href=\"#http11-%EB%8B%A8%EC%A0%90\">HTTP/1.1 단점</a></li>\n<li><a href=\"#http11-%EB%8B%A8%EC%A0%90-%EA%B7%B9%EB%B3%B5-%EB%B0%A9%EB%B2%95\">HTTP/1.1 단점 극복 방법</a></li>\n</ul>\n</li>\n<li><a href=\"#spdy\">SPDY</a></li>\n<li>\n<p><a href=\"#http2\">HTTP/2</a></p>\n<ul>\n<li><a href=\"#multiplexed-streams\">Multiplexed Streams</a></li>\n<li><a href=\"#header-compression\">Header Compression</a></li>\n<li><a href=\"#binary-protocol\">Binary protocol</a></li>\n<li><a href=\"#server-push\">Server Push</a></li>\n<li><a href=\"#stream-prioritization\">Stream Prioritization</a></li>\n</ul>\n</li>\n</ol>\n<h1 id=\"개요\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EC%9A%94\" aria-label=\"개요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개요</h1>\n<p>HTTP 는 <span style='background-color: #fff5b1'><strong>Hyper Text Transfer Protocol</strong></span> 의 약자로 Hyper Text(<U>링크를 통해 다른 문서로 연결될 수 있는 문서</U>)를 Transfer(전송하는) Protocol(규격이 정해진 규칙 체계) 이다. 즉, 웹에서 클라이언트(브라우저)가 웹 서버(httpd, nginx, apache 등) 정보를 주고받을 수 있는 프로토콜이다.</p>\n<p>주로 글 위주로 구성 된 예전의 웹 페이지와는 달리, 현대는 이미지 용량이 매우 커졌고 동영상의 수요와 공급도 많이 증가했다. 그러면서 기존의 통신 프로토콜도 변경해야 할 필요성을 느끼게 된다.</p>\n<p>변경 내역을 확인해보면서 <span style='background-color: #fff5b1'><strong>HTTP3 까지 어떤 것들이 변경되었고, 왜 그렇게 변경되었는지</strong></span> 확인해보는 것이 목표이다.</p>\n<h1 id=\"http\" style=\"position:relative;\"><a href=\"#http\" aria-label=\"http permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HTTP?</h1>\n<h2 id=\"http09\" style=\"position:relative;\"><a href=\"#http09\" aria-label=\"http09 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HTTP/0.9</h2>\n<p>HTTP/0.9 는 One-Line Protocol 로 불린다. 이 초기 HTTP 는 버전 번호가 없는 상태로 발표되었다. HTTP 는 요청이 단일라인으로 구성되며 GET 메서드만 존재했다. 서버에 연결되면 프로토콜, 서버, 포트는 불필요해지기 때문에 아래 그림과 같이 단순한 형태를 띄었다.<br>\n이 때는 Header 도 없었는데, HTML 만 전송될 수 있음을 의미한다. 또, 요청에 대한 상태나 오류코드도 없었다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 693px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 64%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxElEQVQ4y5WT3W7TMBSA7SR2fpqkSeo0P25IBWydKsaegAsueQXekDtegJsNLiYWEDcjju20Q1zwGNhdpgFboxLpky0d6/PxOScgQujyOJ7c1AUS1sKVAAIGAGg1hmGwOI55WZYiyzIRBEE3xNg/fFf0ig/g+cT/+vak/PXmlf/De01+QuteiBBilFJRVZVYrVZ9nudiRCgV5wrwWaFvvtYBAxp3h9o9sEek7SD8CJSgSXzSV+kzmQS5nOCIz6cLmUVPFJVEFmYQwh17ZH8KPwHP9b4cHR1vabEQJ6t1f/bybFMWVLxYn26mYcT3CPYL1c0NsixhWmbrum6nC48xYo5j32XVjmT2UKi+KwUfCtv+Z+0eCg1oNqEXyzyuRBFTOZ9mu5UmlaxILX0n6IZGHZahAWDzNCLbNaF9YPvcACZDBu5s0+kcy+0ggOyALO+Ftm03BSGbpZo3bGNW0lKkKeHpPOX1spZhGHZ1XUuM8WFPxghd0dmsP62X/SwIlWjOkyTRzWFkRrooijo13Nw0zbH66vqL3RxCAL4FCN0ktt17liWHBj2GGEHHt4pL3eX3O/Ptb3MBb/d/ocZHrxcjnA8j8+43mr/sSsNYJtgAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"http09\" title=\"http09\" src=\"/static/6fae01d4da3f39481c78f768b09b87ae/61c63/http09.png\" srcset=\"/static/6fae01d4da3f39481c78f768b09b87ae/5a46d/http09.png 300w,\n/static/6fae01d4da3f39481c78f768b09b87ae/0a47e/http09.png 600w,\n/static/6fae01d4da3f39481c78f768b09b87ae/61c63/http09.png 693w\" sizes=\"(max-width: 693px) 100vw, 693px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<h2 id=\"http10\" style=\"position:relative;\"><a href=\"#http10\" aria-label=\"http10 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HTTP/1.0</h2>\n<p>서버와 브라우저에 기능을 추가했고, 상호운용성 문제가 일반적이었다. 1996년에 이러한 문제를 해결하고자 일반적인 관례들을 적은 문서를 발행했고, 이것을 <code class=\"language-text\">RFC 1945</code> 라고 하며 HTTP/1.0 으로 정의하게 된다. HTTP/1.0 의 특징은 다음과 같다.</p>\n<ol>\n<li>버전 정보를 명시하기 시작</li>\n<li>\n<p>응답에 status code 추가</p>\n<ul>\n<li>브라우저가 요청에 대한  성공과 실패를 구별</li>\n</ul>\n</li>\n<li>\n<p>요청과 응답에 헤더 개념 추가</p>\n<ul>\n<li>메타데이터 전송 허용</li>\n<li>\n<p>유연성 및 확장성</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 678px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 96%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAACnElEQVQ4y5VTx3bbMBBkr6DYiyh2WrEo8dm33HPOOR+d4hefYhGFTC5JPiOAZPnZsi0rhyHAXWC2zIIzRfHzlTe77Qrlu9Yat5wqfOU47ssBrut+y7LsJkmSG8uynvheRKAo06dm8ffje/O38yH4w1vSSB2IAjNEUTQtl8tfRVH8jON44nkeH3yvgLt7hB88x295XtjS/QF3R9i+AW5wQYCL6GJMvJLMdA/NvYrEbk5SupqaBUVRHNi5x6CZPrPtCEVBHOq6JlEY46ZuSbfqxjwvcF01JEtzXFUVSdMU0x5i0zThG9kNnCAIw2azGbNsgfu+H9fr9Tifz3d72jvCfCxgnueYgfmYfbVajSwQFQ0FQYDuM96VvNU0DSqKMhiGsVtZiWxldkM3oKqqO5skSYMsy3v7/VmWELM/lHxGk/8Hw47QkAEMQYIDEGHPCnA0i3FkxzhxU2IbDmJZHAvxqihssyjDsW2LaR7HRBN1aKoAmgqAM81BqqTBM7LaPpCySMuuHuPMx04wQ6w3oiQM1syCtmtDYAGYUCF830dhGCIAAHQcBzGBdF2HT8gOKneX3VjmJbZtB7ZtS5jCTNmqLEnbNGS97nb/bALoa8GMkKnNxHpGyDKs24bUlMin8peU5Pr6egqjGPthghdFTZarfozihAa04b2ir5fMPhd5Qfq6mTw6U57noZRG5+nAAzfCGnCQYQdIkJThiGR4gWxPGJsAXwThaAOAOPqOZVkZFDpvEm2HRsvSNXU4kdExuK1IL1dFQa76fqrylDRtTdJsjpM0xpfdu3HTr0dZlaC4H59TZHtCVRThxg+nuWniLLSIZRnIDgF2Y4sEC5tYnoFtH2BdkeE5hEMCLNy43hgZJj7zNWxPEL944RROnvkHnhBtn0zl8oUAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"확장된 Request, Response Message\" title=\"확장된 Request, Response Message\" src=\"/static/63ca083ea928d2ca9e2a13b34a524307/38cea/http10_request_response.png\" srcset=\"/static/63ca083ea928d2ca9e2a13b34a524307/5a46d/http10_request_response.png 300w,\n/static/63ca083ea928d2ca9e2a13b34a524307/0a47e/http10_request_response.png 600w,\n/static/63ca083ea928d2ca9e2a13b34a524307/38cea/http10_request_response.png 678w\" sizes=\"(max-width: 678px) 100vw, 678px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<p>확장된 Request, Response Message</p>\n</li>\n<li>\n<p>Content-Type 을 명시하면서 다른 타입의 문서도 전달 가능해짐 (ex. text/gif)</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 78.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACPElEQVQ4y51TyXLTQBDVvjvyyNp3x5IX4sLAjTN3+FwuEP8FRLPISZziwFcwrRDiFAYHDq+6qnvmTXe/N4KjKB9X7ujbstCodW7tBEPCgiBccXQQJ5MJqeuaRVFEXNfFoih2B/UH/DovRIZ++aFMv79/69z47/w7caySoSDeH0jTlOZ5TrMso0AqSdIxwsOc8JmDcXzh+PrktT/jb6TCdmx7N1XYsjyY9cgJaDwuWYwqlvtNbxsj8nPMU7h/QFGUbdM0e4Q8XFc1WyyWfdO0LE0ymmcFhf2VZTmMbds2Ptk1EC4Wi30QBPji4kW/Xq973/fJZrPZzWYzNp/P++l0ygBxHFMAb4AB+E4pv0dAuMMdbk3D3GmaduXYDjYMA4uC2EHkeWyaJrYsC/N6p6pqBxFq0C1EyAEOCS85+gNB/hePojiaex2NUhKdJdQ/CzhCmqCUJShjroWILCvD4qHzBxGOCPU4Mkq0fZS5NE4mvS7xMTU+pmpj1xwTXdbxP1lIUeRtOQ/vxpGJz3yTWHw3kix1yEPEcixsOzYOuaFBKI/nEEKDCEVRUMdx8G9+BJWX89V+Wp2TsYtw27YM1IXYNjNW5Bl98/rVbrVa9VVVMfg58AWTJKG6rndHCcuyuK2nNbdERMFzm83LnTcJCApzOglTWkzbPggjOuIdgeonRgbC8pb7ajAvGLnhnY1cRAw3obLlEclE5AhJd/QLyrK85Xu55gamYRgSMCoQQ7eaKnfPInkK4dMJHz6XaMAP82Y1FA2ZbgsAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"다른 타입의 content-type\" title=\"다른 타입의 content-type\" src=\"/static/a127a100e8abd08fa3f6a51aa553394f/1e043/http10_content_type.png\" srcset=\"/static/a127a100e8abd08fa3f6a51aa553394f/5a46d/http10_content_type.png 300w,\n/static/a127a100e8abd08fa3f6a51aa553394f/0a47e/http10_content_type.png 600w,\n/static/a127a100e8abd08fa3f6a51aa553394f/1e043/http10_content_type.png 690w\" sizes=\"(max-width: 690px) 100vw, 690px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<p>다른 타입의 content-type</p>\n</li>\n</ul>\n</li>\n</ol>\n<h1 id=\"http11\" style=\"position:relative;\"><a href=\"#http11\" aria-label=\"http11 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HTTP/1.1</h1>\n<p>HTTP/1.1 는 HTTP/1.0 이 나온지 몇 달 안된 1997년 초에 공개되었습니다.\nHTTP/1.0 의 모호함을 없애고 명확한 정의를 내리게 됩니다.  </p>\n<ol>\n<li>\n<p>커넥션의 재사용 가능</p>\n<ul>\n<li>Keep-Alive header 를 통해 기존 연결과의 handshake 생략 가능</li>\n</ul>\n</li>\n<li>\n<p>pipelining 추가</p>\n<ul>\n<li>이전 요청의 응답을 완전히 전송되기 전에 다음 요청을 가능하게 해서 통신 대기 시간을 낮춤</li>\n</ul>\n</li>\n<li>청크 된 응답 지원</li>\n<li>추가적인 캐시 제어 매커니즘 도입</li>\n<li>\n<p>Language, Encoding, Type 등을 포함한 컨텐츠 전송</p>\n<ul>\n<li>가장 적합한 컨텐츠를 교환</li>\n</ul>\n</li>\n<li>\n<p>Header 의 “Host” Field</p>\n<ul>\n<li>동일한 IP 주소에 다른 도메인을 호스트하는 것이 가능해짐</li>\n</ul>\n</li>\n</ol>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1085px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 69%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzElEQVQ4y42TW1OCQBTHFyQuioAYgkLI1RnH0Ze+fw9NvfRUyVSwLMz0STpnxwtWWg//OSssv/M/F8mtp9+5mfpECLk/J8/zHg3DeLh05yBTVd8s0/xU5EGjyv1GIAKDF7UgCAzV6/WYoihMFEX+HPQ9ds8tGRj2q+v4bH4T1cEsrF3XpY7jVKZpcg2Hw1JV1RIuv1/Qxy6WxHa8IpxHbZomLE5ilqYpi6KI+b6P8Ho6nXJBEoq/J5MJis5msxpawZ9DOyrbtqmmaZTMw7DI87xdLpcNwpIkYYvFgp/RIV5G6bp+iP1+H51X0IYS2rIXuqyI67lbyMQwIzrxA78OgoBnByBFqGVZtHtGjUYjiqBduftYEYGIz5IgUUmUSkm8gheHS/xix8EP7UDlCVA3le312Gq0q0E11AzaA3Anaxd+TqfAiXu9vZkHDTYaS8ZSLoDKX3Rasu8HRZ7lLQ4jjmOWZRnDHoZhWGNfJUnqlncOegTChwXAWgSsVqsGp73ZbNr1et0ieL8yONF/AeGDAlakRXdYNq7DeDzmO4eTxRbIsvwX7AiE7FsorYFl5k4QivEfw/jeW4yUwP/0BTa8Bu2XFzcfXVV/OPrV5Rf+vQwk+NDdXgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"http1.1 헤더\" title=\"http1.1 헤더\" src=\"/static/dfa16341bca34b41ef7b4f641b10fcd1/6d74e/http11_header.png\" srcset=\"/static/dfa16341bca34b41ef7b4f641b10fcd1/5a46d/http11_header.png 300w,\n/static/dfa16341bca34b41ef7b4f641b10fcd1/0a47e/http11_header.png 600w,\n/static/dfa16341bca34b41ef7b4f641b10fcd1/6d74e/http11_header.png 1085w\" sizes=\"(max-width: 1085px) 100vw, 1085px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<p>⇒ 많은 내용들이 담겨지고, 특히 헤더가 무거워진 형태의 메세지를 확인할 수 있다.</p>\n<p>다음은 관련 된 참고 사항이다.</p>\n<ul>\n<li>HTTPS<br>\nTCP/IP 스택을 통해 HTTP 를 전송하는 대신, 암호화 된 전송 계층인 SSL 을 이용하여 전송한다. 웹에서 주소록이나 이메일, 사용자의 위치 정보나 개인정보 등에 접근하게 되면서 보안의 중요성이 대두되게 되고, SSL 은 TLS 로 발전한다. 현재는 SSL 이 아닌 TLS 를 사용하지만 보편적으로 SSL 이라 부르기 때문에 SSL/TLS 를 혼용하여 부른다.</li>\n<li>RESTful API<br>\n2000 년에 HTTP 사용에 대한 새로운 사용 패턴으로 REST 가 등장한다. 표준 규격이 없다는 단점은 있지만, 2010 년 부터는 매우 일반적으로 사용되고 있다.</li>\n</ul>\n<h2 id=\"http11-동작-원리\" style=\"position:relative;\"><a href=\"#http11-%EB%8F%99%EC%9E%91-%EC%9B%90%EB%A6%AC\" aria-label=\"http11 동작 원리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HTTP/1.1 동작 원리</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1185px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACGklEQVQ4y21T2Y7bMBDz//9W0ZeixRZFX4rsNnfj+JIPWbJ8hCXlGEiBChAMDTUcDkdOwGX7HmVZoigKVGWlELz3eDweMHWNqqoi3rXtig1D/PbMS9MU9/s97oX3ExtG3BqLgkRl08D++In2y1e4cURtmSCsKGFI1r19R/vtDX6a0PuBWI+qblCwqN29o/30GYkbAnbHM6qmjUmBFzyrSVFDwt3pgpKxprMIlYETZioMFPLroLyO5xojc93limSZZwzeYZgXuGlB2a7EWZZhpErvHOw4wy8P5FSyYcpzvYVnXs88Yy1M1yGZKL9UZSodRUrvLMHr9Ro9kofBecwTCdyKnc/nWCzmsYvA9j3zu41Qw3hoCCR48Dxzi3Cg+afTEellD5P9QSAeGLvdbpipMLun8JbtdxXmwWNikWRZljgxEdEY1Hke/dNkhbUc1On3B9LzHqfDB+Pra5g5UT4F4LDHcvxAvX9nPH+2TE9mqaPRqqInoy2FRX5nW2w7uNVTxh19jZ3lGTqTwRYpRs5Bfj89LBFmH7dUKSb/IiHVTmxPgib6GEKImO7knLgECFPe+E/LjE5LQGXWlqVEPgk3xsQ2RaYkEQqbiUmtHvWGJQIM35UbWl4YI6BLW1taUioSLd3XpDchOrfPP0grtpxyWjUfp/4IVdFW0kb4ukSg56Hv61KH2skWkCIpVVDVpfTVDm0txaT4f5i+fwGw8OyxiICOwAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"http11_principle\"\n        title=\"http11_principle\"\n        src=\"/static/e9c968e8cc91f7e8ed263a3838133d15/471ef/http11_principle.png\"\n        srcset=\"/static/e9c968e8cc91f7e8ed263a3838133d15/5a46d/http11_principle.png 300w,\n/static/e9c968e8cc91f7e8ed263a3838133d15/0a47e/http11_principle.png 600w,\n/static/e9c968e8cc91f7e8ed263a3838133d15/471ef/http11_principle.png 1185w\"\n        sizes=\"(max-width: 1185px) 100vw, 1185px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>왼쪽은 HTTP/1.1 Baseline 통신 규약이고, 오른쪽은 Pipelining 기능이 도입 된 HTTP/1.1 통신 과정이다.</p>\n<p>HTTP/1.1 의 동작은 기본적으로 Connection 당 하나의 요청을 처리하도록 설계되어 있다. 동시 전송이 불가능하고 요청과 응답이 순차적으로 이뤄진다. 또, HTML 문서 안에 포함 된 다수의 리소스(image, CSS, script) 를 처리하려면 요청할 리소스 갯수에 비례해서 Latency(대기 시간)는 길어지게 된다.</p>\n<h2 id=\"http11-단점\" style=\"position:relative;\"><a href=\"#http11-%EB%8B%A8%EC%A0%90\" aria-label=\"http11 단점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HTTP/1.1 단점</h2>\n<h3 id=\"holheader-of-line-blocking-blocking\" style=\"position:relative;\"><a href=\"#holheader-of-line-blocking-blocking\" aria-label=\"holheader of line blocking blocking permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HOL(Header Of Line Blocking) Blocking</h3>\n<p>HTTP/1.1 의 pipelining 은 한 커넥션에 순차적인 여러 요청을 연속으로 하고, 그 순서에 맞춰 응답을 받는 방식으로 지연 시간을 줄였다.\n하지만.. 순차적으로 응답을 받다보니 이전에 받은 응답이 길어지면 그 이후의 응답은 지연된다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 260px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 213.84615384615384%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAArCAYAAAB4pah1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAD3UlEQVRIx81X71PiRhjmz7+Z9uY+3Ex7X3pfvC+1elZR54bqyRURB6meFRT8ARwIVESSkISEkM3T992YGDA455W56c68s5vNvs8+76/dJOGOx7i9vYWqarBtG5qmYUxz3DzPI0FEPCncBoMBTNPEcDiE4zhyPBqNkOjddpFK/YHk+gaSyQ2srSah9BWpJIQXggSArivku/1cDgsL75DZ3UM6ncbS8gq+NK6REEJAUVQMdJ121WhHg4CYoYiIF449+ICmqaPf78GyLRiGQRaqZJmLBO6b5wlYQwFnBDKBnknPdQmCZGQ/jAXP+x6Rc4bh0JwbwCAR+MSyhmh+cXD0Vx8byUOs/p7H0mIGK8s55PfbSH0oYnP9CJsbxySfsb5WQPFvE426Tb6zQp+HgCOi0WyYKJ+qyPx5hu2tY2Q+nWIve4Gz0h32disEfEX9OXYzZWRJalc2WteW1H0EyJHq9XrQdYPGY1o09nvbkb7xFfCouWQ3Z0cMw1GYCro+kOmjU6A4LRRFkc/sfO41TaV1/rher0+k2QRgv9+XIBwxBmYFBrMsSzJnQN6UN+H1zUYDvy0t07pBPCAr+vknpBksPpguwQMw3oTBFdp47f0SlLu7pwFnNfZXUB0s1csL/PTrOrqa6ROJAjIbDkwQoEACM1mYKT/L3hzSyjF+rngoqd5jQN69UCig3W7L3RmAlZk5O53fx7VXVeBEupBqyMOkyWzOrMbvJ3zKgaOyO17cglr/x/ehmMrDVqslF7PSQ4poIVvekIXZeiSyql+/AYqnstq5LkNANqtUKsnkZibMKIhcXBMMykR+eQdRvrhnKKK1bMVGlY8r3iwMBgdJ8xN/wONWG869q7zpoFQqFXS7XRkUrgQWw9Bl77rjUKLNIlfZEWsiPnTRaOyQcoYA98n0NDHK0XmXJxccyHEgqrJL6wukdUhHXpHqPab0LMshv+3TKI1OZxE7H3/E9vYPODt7i3z+NTKZV/iUfinnUqkXZMkyrd0ivRzpiceAtk2VMryhUY9e9GQP3N1LdBydoxPb6hKgE196dkh9UuLmgnm2bObxFUSar4OHy2mWiDA7RnFBCargIfeelqjeVwI+3aL5Gws4afLzAGN9+F8Yzh3w+5gcnHdzBZyryd/qw5l5OHeGc/fh3E3+//vwWxny/RPrQ76kJr/+J4U/oKYluH6DrwoJOM3oa9g9xThkGP0Hubm5ocupjFKxhMvLK9RqNZTLFVSrVZyfX1Bfk9+G/NsRBQsZTk92Oh00m9f04dQh8K58zmazdPsd4OSkiMPDI7oVd8J/lqhViWnazzV5ev2/beEOeRHVFmIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"http11_weakness\"\n        title=\"http11_weakness\"\n        src=\"/static/cc4d372d9a7c2990c2a590e06ef0bfd8/86c28/http11_weakness.png\"\n        srcset=\"/static/cc4d372d9a7c2990c2a590e06ef0bfd8/86c28/http11_weakness.png 260w\"\n        sizes=\"(max-width: 260px) 100vw, 260px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>예를 들어 3개의 이미지를 받기 위해 아래와 같이 순서대로 요청을 보냈다고 했을때, 이 순서에 맞게 응답을 받아야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">|</span> --- a.png --- <span class=\"token operator\">|</span>\n                <span class=\"token operator\">|</span> --- b.png --- <span class=\"token operator\">|</span>\n                                <span class=\"token operator\">|</span> --- c.png --- <span class=\"token operator\">|</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 362px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 112.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsTAAALEwEAmpwYAAACkUlEQVQ4y5WV224TMRCG96Z3VeFF4NHgvQBB4QL1olUkFCGFKlVTpQlVc1BpyWaPWXu9h+zpZ+zNYbNJ2jCSlXhsf54Zz8xqRVFgOepS1b20vhStOmEegz7R4TjOanP1MiEELMtSI4qinVCtKHLwhGEWu7i9v8X1zTWGo8EmMC//TyYTdLtd9Ho9eJ63G5hkCVpWCxf6OUbBEHfmPWzOkKUF0iyTR7bcTJJkA1b1QqvHwJha5LoP1+WYzXwwJsjViCApMrognoekK63L8xz1N9DUBGuFjI/jMAg/gM9FCfUEHJvRGkevbyKZR9glkqHVTbYsG5wHZEUA1+HgZK1DIGmpZQp0Ok/o929h27aKqWEY6ncZ0wVwHQ/G2OI66VKGKJwjDOak9+kyH1dXDzg7+45fl5dotVpoNptoNBoKXAGuLZQ3ydhsS46M1H8fLQzevkF0cb70czsP9wGrAS8WulB4GB8dIfr8qdyTpmpdxl4+2n8DfW+G8ckJoq+npUkEkaB2u42U4C8C18m9AFLKjI+PCfhlBZQgmfA7X/kgC1+/QvTtdMPlMAwPAwKbQEFVNNI0hB8/rIBSdF1X5w6ysCqe4+Lu/TuEN51yz2LvYDB4BphV04Zqd54goMTmlOj21AZbxlaWXq1BbAE552XWETQOYwgFYuBUeoKS2zVdimOl09QahFbUWpT+pMN8MBHIWp5xCKpjOTjVNHcl0KEa59uPtgLWYjR5pPocG4hESEBfuelTPcu5sjqO4fv+8x07oSefq005jD8GnnqPytWAGoSMX/WgzLkgCPYDsyyF2+/B+NkEv/uNTuMHzOFk7/dDdhnTNPcD60rDmG5A6g1UdqNlR9rrcv3Qxlw14MO+glL+AYG29EY8W9EKAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"http11_blocked\"\n        title=\"http11_blocked\"\n        src=\"/static/ad391267d951f7e8897831963985d0bc/10600/http11_blocked.png\"\n        srcset=\"/static/ad391267d951f7e8897831963985d0bc/5a46d/http11_blocked.png 300w,\n/static/ad391267d951f7e8897831963985d0bc/10600/http11_blocked.png 362w\"\n        sizes=\"(max-width: 362px) 100vw, 362px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>그런데 a.png 의 응답이 길어지면 뒤에 있는 응답도 그에 따라 지연되게 되는 문제가 생긴다. 이는 pipelining 의 큰 문제점 중 하나다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">|</span> -------------------- a.png ------------------ <span class=\"token operator\">|</span>\n                                                <span class=\"token operator\">|</span> -b.png- <span class=\"token operator\">|</span>\n                                                          <span class=\"token operator\">|</span> --c.png-- <span class=\"token operator\">|</span></code></pre></div>\n<h3 id=\"rttround-trip-time-증가\" style=\"position:relative;\"><a href=\"#rttround-trip-time-%EC%A6%9D%EA%B0%80\" aria-label=\"rttround trip time 증가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>RTT(Round Trip Time) 증가</h3>\n<p>HTTP/1.1 의 동작은 기본적으로 Connection 당 하나의 요청을 처리한다. 그래서 매번 요청별로 Connection 을 만들고 TCP 상에서 동작하는 HTTP 특성 상 3-way Handshake 가 반복적으로 일어나게 된다. 이는 불필요한 RTT 증가와 네트워크 지연을 초래하여 성능을 지연시킬 수 있다.</p>\n<p>참고로, RTT 란 요청(SYN)을 보낼 때부터 응답(SYN+ACK)을 받을 때까지의 왕복 시간을 의미한다.</p>\n<h3 id=\"무거운-header-구조\" style=\"position:relative;\"><a href=\"#%EB%AC%B4%EA%B1%B0%EC%9A%B4-header-%EA%B5%AC%EC%A1%B0\" aria-label=\"무거운 header 구조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>무거운 Header 구조</h3>\n<p>HTTP/1.1 은 발전을 해오면서 헤더에 많은 메타 정보들을 저장하게 되었다. 사용자가 방문한 웹페이지는 다수의 http 요청이 발생하게 되는데, 이 경우 매 요청시 마다 중복된 헤더값을 전송하게 된다. 또한 해당 도메인에 설정된 cookie 정보도 매 요청시마다 헤더에 포함되어 전송되어 성능을 저하시킨다.</p>\n<h2 id=\"http11-단점-극복-방법\" style=\"position:relative;\"><a href=\"#http11-%EB%8B%A8%EC%A0%90-%EA%B7%B9%EB%B3%B5-%EB%B0%A9%EB%B2%95\" aria-label=\"http11 단점 극복 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HTTP/1.1 단점 극복 방법</h2>\n<h3 id=\"image-spriting\" style=\"position:relative;\"><a href=\"#image-spriting\" aria-label=\"image spriting permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Image Spriting</h3>\n<p>웹페이지를 구성하는 이미지 파일 요청 횟수를 줄이기 위해, 하나의 큰 이미지로 만든다음 CSS 로 좌표 값지정해서 해당부분만 보여주는 방식</p>\n<h3 id=\"domain-sharding\" style=\"position:relative;\"><a href=\"#domain-sharding\" aria-label=\"domain sharding permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Domain Sharding</h3>\n<p>다수의 Connection 을 생성하여 병렬로 요청을 보낸다. 하지만 브라우저 별로 도메인당 Connection 개수 제한이 존재하기 때문에 근본적인 해결책이 아니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 412px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 84.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAADUUlEQVQ4y21Uy47TSBTN182GD0CaJUJiyWI0GxYsEOsREgghFqNBwIIVj2lASpOmn+l0k3YSx078SOfpJE7sxOnE79g+3KqGqBtR0lHdXEfnnrr3VOVAazwewxgamFpTGIaB0WiE2WyG4WiIwWAA0zSRZil+t7IsQ5qm9D3jcY4lG40GymdliJKIk9MTCIIAUayhVmOoolKtoNfvYzQe8WLT6RTD4ZBgwPe9a8Q5FiRJgjiOCDH/wJYf+FgulwiCgP8xiiKEYYggDLBer+HTPiLixWoFZ+XyHFfIgsViQZV8eJ7HqzOoqgpJlqBpGmzbxnw+521wXRfVahWf83kESQqPClmLJUIShJ+E/UEfmq7znfVzMpmg0+lwhRdUjJFtCKkoI3z34T26/R7vfbvX/UEI5NgxmSLLtjB35jSAMSzLQrfb5cpZznEcHjsUs2OXy2W8JcL5woEzn8EgERuFaZpRn0L6Y8R31/Xo+AFN14CiqOgQsUftYN9YPoxiTKY22t0+wnWCIF7DpSLr5EcPM2aHLL4OrC+RRcjSaJPjMRiYhdgwYyTMMoTNlH3PocbXqWcazs8VtM6baCoiuj2d5/r9FqltQ9dlTG0Tr3cVPNkS8fxzFbZjcUekV0hz7spGVRQgNxuo01QlWcbJt1M0mk0+ZUVV0FAUVGsVGOYUf704w81/DnDryQGGE5MTXlWZc4hwr5jH/nEBB4Sjk6/Y3v2Iw9JX7BcLKJ7u4vjbPr5QTm5JuP/mEHeef8Hdf/PomiNOGFMvN4QzfwlJkUmRTEdtQm7IqNDtYP5jv/WWTipVsoqAwdjE3y8F/PnoELefHmFI07+6eA/nSwt7R3mu7LC0g4NSAfmdLa6M5UrlfRwTCnufoHYaeFOq41nhDP/tCtgWmtirtbEj6JjYl/3MeasZ9apOTW+RIhUqGVys18norUtoOlRCTRRxQUa/uu69KuOPBwXceLiNYl27JORTVkXomsTRpknLksBjTZXQ0mQeS5Sb2WMksY8wcGl38bbYxOOtCh7/X0aPzM0J0yyhZsbXwD33Sy5LyXMJM/cSq6VD9/4Ckb9AEl2QTVckosYfCP7a/Ir0NzkOZhF6ENbshtDN0VttejNNmnJKD8iMv1rfAUBU5taWC/ssAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"domain_sharding.png\"\n        title=\"domain_sharding.png\"\n        src=\"/static/d1a6f149584e948130c2bca5a6022f4c/9e32a/domain_sharding.png\"\n        srcset=\"/static/d1a6f149584e948130c2bca5a6022f4c/5a46d/domain_sharding.png 300w,\n/static/d1a6f149584e948130c2bca5a6022f4c/9e32a/domain_sharding.png 412w\"\n        sizes=\"(max-width: 412px) 100vw, 412px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h3 id=\"minify-cssjavascript\" style=\"position:relative;\"><a href=\"#minify-cssjavascript\" aria-label=\"minify cssjavascript permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Minify CSS/javascript</h3>\n<p>http 를 통해 전송되는 데이터 용량을 줄이기위해 CSS, javascript 코드를 축소 압축시킨다.</p>\n<h2 id=\"data-uri-scheme\" style=\"position:relative;\"><a href=\"#data-uri-scheme\" aria-label=\"data uri scheme permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Data URI Scheme</h2>\n<p>Data URI Scheme 는 HTML 문서 내 이미지 리소스를 Base64 로 인코딩 된 이미지 데이터로 직접 기술하는 방식이다.\n이를 통해 요청 수를 줄인다.</p>\n<h3 id=\"load-faster\" style=\"position:relative;\"><a href=\"#load-faster\" aria-label=\"load faster permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Load Faster</h3>\n<ul>\n<li>스타일시트를 HTML 문서 상위에 배치</li>\n<li>스크립트를 HTML 문서 하위에 배치</li>\n</ul>\n<h1 id=\"spdy\" style=\"position:relative;\"><a href=\"#spdy\" aria-label=\"spdy permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SPDY</h1>\n<p>웹 환경이 계속해서 바뀌면서 (리소스 증가, 다수의 도메인, 동적 웹 서비스, 보안의 중요성 등) 구글은 전송 지연 latency 문제의 해결에 집중하며 HTTP를 고속화한 새로운 프로토콜인 SPDY 를 구현한다. SPDY 는 <code class=\"language-text\">speedy</code>라는 단어를 기반으로 구글이 만든 조어이다.</p>\n<p>SPDY 는 실제로 HTTP/1.1 에 비해 상당한 성능 향상과 효율을 보여줬고 이는 HTTP/2 초안의 참고 규격이 되었다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 676px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABwElEQVQoz22S626bQBCF/f6P0v5LpbZSFDWtHccC7PgCAYxtLjF3DL7FEBY4ncWJY6kd6bCj3eHTzpnt4CqapmnFo6prUgPLdvCydkEpatrj4hEEAQzDaOvrurn82/lIrkVoeJscSz+HHZet5u4r9q8l4l2BwXyP32MPt8IKA30PfX28XKiD/0YDwztCWhzRm/p4VCIIxoFgJcJ4g66k4u5hhNuuhB7lsm5dAelTMQZWlqiqqhWPiXnAz6ctbh5dfBdD/BhlcNMSuyTERBhA+HOP/q87TClf6eonkANeXA8O+RREMVwvQJ7nGGgZvvYifBMz3AgpvnRDLIIT9kEIqydi9SBCu+/DptWTdTBuMgcyAkbURkiwKNkgzbYoWQ3LNyFbU4iKgJE+hGxOEW8TJFkCZTnCRBUhzfptbq4N6uzsPd2wbn3xw6hdkzRD8cbg+BZ0cwbFGON5MYFGQA5Lsg00awZ1NYNMZ5olw/ZMMFafgYz886mNkICe7yMviva5BM4SjvYEfUweKRKs5yF2aYwdQW11iKUsYk5nvMa3DZw7vky5eX9P9WXO5VuB/HRAcTq24nldMaqp/tnntR9D+Qvv86GvQjPvFgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"spdy\"\n        title=\"spdy\"\n        src=\"/static/a6fbe2e82a65c49a0eee8e87c58ecab8/9bb7a/spdy.png\"\n        srcset=\"/static/a6fbe2e82a65c49a0eee8e87c58ecab8/5a46d/spdy.png 300w,\n/static/a6fbe2e82a65c49a0eee8e87c58ecab8/0a47e/spdy.png 600w,\n/static/a6fbe2e82a65c49a0eee8e87c58ecab8/9bb7a/spdy.png 676w\"\n        sizes=\"(max-width: 676px) 100vw, 676px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>SPDY 의 특징은 다음과 같은데, HTTP/2 와 겹치는 부분이 많다. (자세한건 HTTP/2 에서…)</p>\n<ol>\n<li>\n<p>항상 TLS 위에서 동작</p>\n<ul>\n<li>HTTPS 로 작성된 웹 사이트만 적용 가능</li>\n</ul>\n</li>\n<li>\n<p>HTTP 헤더 압축</p>\n<ul>\n<li>요청이 많아질수록 압축률은 커짐. 대역폭이 작은 모바일 환경에서 효과가 큼</li>\n</ul>\n</li>\n<li>\n<p>텍스트가 아닌 바이너리 프로토콜</p>\n<ul>\n<li>파싱이 더 빠르고, 오류 발생 가능성이 낮음</li>\n</ul>\n</li>\n<li>\n<p>Multiplexing</p>\n<ul>\n<li>하나의 커넥션 안에서 다수의 독립적인 스트리밍을 동시 처리</li>\n</ul>\n</li>\n<li>\n<p>Full-duplex interleaving &#x26; Prioritization</p>\n<ul>\n<li>다른 스트림이 끼어드는(interleaving) 것을 허용</li>\n</ul>\n</li>\n<li>Server Push</li>\n</ol>\n<p>⇒ HTTP 의 데이터 전송 포맷과 커넥션 관리 부분을 수정하여 TCP 커넥션을 효율적으로 쓰도록 하였다.</p>\n<h1 id=\"http2\" style=\"position:relative;\"><a href=\"#http2\" aria-label=\"http2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HTTP/2</h1>\n<blockquote>\n<p>💡 The focus of the protocol is on performance; specifically, end-user perceived latency, network and server resource usage. One major goal is to allow the use of a single connection from browsers to a Web site.  </p>\n<div style=\"text-align: right;padding-right: 10%\">- <a href=\"https://http2.github.io/\" target=\"_blank\">https://http2.github.io/</a></div>\n</blockquote>\n<p><a href=\"https://http2.github.io/\">HTTP2 의 Github 블로그</a>를 보면, HTTP/2 는 HTTP/1 의 확장으로 <span style='background-color: #fff5b1'><strong>기존 HTTP/1 과 호환성을 유지하고 성능에 초점을 맞춘 프로토콜</strong></span>이라고 쓰여있다.\n다음은 어떤 특징들을 갖고있는지 확인해본다.</p>\n<h3 id=\"multiplexed-streams\" style=\"position:relative;\"><a href=\"#multiplexed-streams\" aria-label=\"multiplexed streams permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Multiplexed Streams</h3>\n<p><span style='background-color: #fff5b1'><strong>하나의 연결로 동시에 여러개의 메시지</strong></span>를 주고 받을수 있고, <span style='background-color: #fff5b1'><strong>순서에 상관없이 스트림</strong></span>으로 주고 받는다.</p>\n<ul>\n<li>\n<p>스트림(Stream)</p>\n<ul>\n<li>시간이 지남에 따라 사용할 수 있게 되는 일련의 데이터 요소를 가리키는 <strong>데이터 흐름</strong></li>\n<li>메시지를 독립된 프레임으로 조각내어 송수신한 이후 다시 조립하여 <strong>데이터를 주고 받는 원리</strong></li>\n</ul>\n</li>\n</ul>\n<p>특정 스트림의 패킷이 손실되었다고하더라도 해당 스트림에만 영향을 미친다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 823px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABlElEQVQoz51STW+CUBD0f/fWn2Q84aEH60GJmhhTNfELQayKIggin1NmEYv21kk278Humzc7+2rX6xXaWodhbHA4HPAfpGkqQdSADBJZBs/zYFmWrEEQ4Ha7wbZt+cfLeDm/z+ez7JlPkuSJuHYOEigzB24QwdDXaLfbuVoDu90Ol8tFyLm6riuXdLtdTCYTbLdbHI9HhGGIwWCAXq9XKJxbHt6bS3wtDWjLBfp5crPZCCmJqKQaw+EQ8/lcavb7vRArioJms1kQJnGM+BbkHaeSHI1G0DRNDrA1KqsG1c1mM+i6/rChRJbbVrtvHz/oSWkyv1+jzJX5P0PJHnRAnKulZ1yjKHocqML3fRkGa3h5tUaGgshHZqo5a4RTPsHPVktaYss0nIOglwyi3++Lj6vVSiwhaBGjUGgvkH68IbTzQZjf6HY6kuQBPpHT6SRe8emQlBOdTqeSN01TlDYaDdTr9YIwjkLYB1Map+mqqkoxTWfxKzi08Xj8pJA2Me4P+xckcBxHiOnV62DKw8xTLX2ugjU/t9lHhN/7ZeMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"하나의 연결로 여러개의 메시지를 주고받음.\"\n        title=\"하나의 연결로 여러개의 메시지를 주고받음.\"\n        src=\"/static/671e0c75f47ccc3185d2c2dcfb606f36/31aff/http2_multiplexing_message.png\"\n        srcset=\"/static/671e0c75f47ccc3185d2c2dcfb606f36/5a46d/http2_multiplexing_message.png 300w,\n/static/671e0c75f47ccc3185d2c2dcfb606f36/0a47e/http2_multiplexing_message.png 600w,\n/static/671e0c75f47ccc3185d2c2dcfb606f36/31aff/http2_multiplexing_message.png 823w\"\n        sizes=\"(max-width: 823px) 100vw, 823px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n하나의 연결로 여러개의 메시지를 주고받음.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 850px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 82%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACrUlEQVQ4y21T2XKjMBDk//8sD8mLs5VK7DiOr4APQOhAEoLeHmF787BTpbIZ1D09PUMBRvAewxDlL6y1MDx932OOCcaYnJd7EmNKUErlOzGEnAvBQ3Udihgj6raFdgFxBGIM0J3CtVFQtkfH0xLc8bIyDjFNGNIIq/msNVrnEYjzkUWaBoVU77SBY0LO1UZUysCzsr3lys6zYI+DsSj7gIsf8NVaWOdQaYW9anEk8aJqUUgrbacJHKBDQm0DVTlYAsMwwviEto9ze6ZB7BVOJPlTlbzjoL2B7jU+yh2WuxUKR8LqUqNzkW7Rn3HMnh07SyVUSb8kJ/4l+ixFtk0Nez3AOYtTd8FPXSP0BsnqWWHdNjDDTDgJIb0Rb92YYNKAtTVU2sNR9UZbaNsg0RJP1Y3q6OuYB+NDRNFyIA1NN8OAlqci8Cy+UpEmec2c4qBs7/FRa/p9BaVyK3if5K0LuIcMrrAEN5yYEHZpJmxp9lW3VGQwDVyVacoKy6Yk2dyJdJCIYUsPwkDV2cMfenLlQyRwunk4yl6SbAwWQ3OE6xoEox5gscqzCyEWtfdfro2FqtnGMEuXAWiuUbAKEycoZwwug9M4ZbXZL7GEXp/PZ+x2O1RVlZc976EscvI2g5NTWY1V9aOdyJXy96+EBSeSyq+sksxgvV7jdDrlO4WjXzL+MfSYYo9k6lmdTHyaFQk4cX1+x9yJzkTL5TIrlOficr3ifNxh5HJK2wKUL+B/IaYfj0dcLpeHSvFN/BQP5dwU/iOQi/JCYrvdYr/fZyIBi5rn52e8vr5mkt+F5L1EcU9+f3/j6ekpk0hIkcVikQnEeFHy9fWFz89PvL+/50Li2WazwcvLS247D2W6Ta0sS6xWq/wrIa0JgQCkmCgQAgFK/v6Jvr295feCPRwO+Aup7dLkbViTTgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"순서에 상관없음.\"\n        title=\"순서에 상관없음.\"\n        src=\"/static/c707725417e32466afeba4726cd92b46/ae694/http2_multiplexing_orderby.png\"\n        srcset=\"/static/c707725417e32466afeba4726cd92b46/5a46d/http2_multiplexing_orderby.png 300w,\n/static/c707725417e32466afeba4726cd92b46/0a47e/http2_multiplexing_orderby.png 600w,\n/static/c707725417e32466afeba4726cd92b46/ae694/http2_multiplexing_orderby.png 850w\"\n        sizes=\"(max-width: 850px) 100vw, 850px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n순서에 상관없음.</p>\n<p>⇒ 단일 연결로 병렬 요청을 받을 수 있고, HTTP/1.1 에서 발생하는 문제인 <span style='background-color: #fff5b1'><strong>HOL Blocking 문제를 해결</strong></span>할 수 있다.\n(HTTP/1.1 의 Connection Keep-Alive, Pipelining 개선)</p>\n<p>⇒ RTT 시간이 줄어들어 별도의 최적화 과정 또는 도메인 샤딩없이 웹 사이트 로드 속도가 빨라진다.</p>\n<h3 id=\"header-compression\" style=\"position:relative;\"><a href=\"#header-compression\" aria-label=\"header compression permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Header Compression</h3>\n<p>HTTP/2 는 중복 헤더 프레임을 압축해서 전송한다.</p>\n<p>헤더 정보를 압축하기 위해 Headere Table 과 Huffman Encoding 기법을 사용하여 처리한다. 이를 HPACK 압축방식 이라고 부르며 별도의 명세서 (RFC 7531)로 관리한다.</p>\n<p>클라이언트와 서버에서 모두 이전 요청에 사용 된 헤더 목록을 유지 관리한다.(Header Table) HPACK 은 서버로 전송되기 전에 각 헤더의 개별 값을 압축한 다음 이전에 전송된 헤더 값 목록에서 인코딩 된 정보를 조회하여 전체 헤더 정보를 재구성한다.(Huffman Encoding)</p>\n<ul>\n<li>\n<p>허프만 인코딩</p>\n<ul>\n<li>문자열을 문자 단위로 쪼개어 빈도수를 센다. 빈도가 높은 정보는 적은 비트 수를 사용하여 표현하고, 빈도가 낮은 정보는 비트 수를 많이 사용하여 표현한다. 이를 통해 전체 데이터 표현에 필요한 비트양을 줄인다.</li>\n</ul>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 732px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACFklEQVQoz22S/VMSYRDH73/uH6hfyqzQIQOVGD250QbStNAxk6TQMSsMUBEOCeTleBOIl8MQ4dM9j/7QOO7Md3Zvd/a7393nlGqlynk2R7VcJZ/JcZZMUcgXrNw5idME2UyWfC6PUTSkz6QzMi9iaaNb3MaKaAx+DhI5PSZyrnOcTWEUDEkU2A5w+DOMnkiiJ5P0zB7D6yH9v32u+lcSg/5AepETNSUajWF/Mcn4nIOH624m/Bqh4Fe2PwVwOFzYbHacThczM25q1QvZXDJKlEsVuZXY0CiWqF/UGQ1HKEexI5Y8i0yoszx658L+XqNslNHjx4T8i6xp06zMT7Gy4KReq8m1Ou0OZtfE7Jj0uj0ZC4XClGgkysyracZeT/FAm2DM6yIWifHj2z4fltyoThtzU8+Yd9gsFTcKi4UilVt1JUtd60/rhlDcMKWnWF1eYVp1M7e1zGpoS97wNJ5gbc2POu9BVTU21jdl4/XgmmajSbfTpd1q02q25BCxriS8qDfQzzKEdvetw/+m3TaldNO85CSZZu8gzEE4SrnWkEcXzYJYkInVBcS38GKY8itdYty7w+TbHWZ3TvDuxWEwoNposeAP8mZzF83y3o+7tK2bCcKKeJBKTUIoFbjsXd48SjTX4OV2nKe+Lzz2hVCDR9av0OdeG92DO3XlUM/z3Gcp9AV4om3g2frO0FIoimLiXXBP7n/8A4Yby3qh+UqvAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"http2_header_compression.png\"\n        title=\"http2_header_compression.png\"\n        src=\"/static/5ac0c4e9a57426bd9ffa0ad7e61cfef1/d0cc0/http2_header_compression.png\"\n        srcset=\"/static/5ac0c4e9a57426bd9ffa0ad7e61cfef1/5a46d/http2_header_compression.png 300w,\n/static/5ac0c4e9a57426bd9ffa0ad7e61cfef1/0a47e/http2_header_compression.png 600w,\n/static/5ac0c4e9a57426bd9ffa0ad7e61cfef1/d0cc0/http2_header_compression.png 732w\"\n        sizes=\"(max-width: 732px) 100vw, 732px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<blockquote>\n<p>원리를 좀만 더 자세히 설명하자면… 위 그림처럼 클라이언트가 두번의 요청을 보낸다고 가정하면 HTTP/1 의 경우 두개의 요청 Header 에 중복 값이 존재해도 그냥 중복 전송한다. 하지만 HTTP/2 에서는 Header 에 중복 값이 존재하는 경우 Static/Dynamic Header Table 개념을 사용하여 중복 Header 를 검출하고, 중복 된 Header 는 index 값만 전송한다. 중복되지 않은 Header 정보 값은 허프만 인코딩 처리하여 전송한다.</p>\n</blockquote>\n<p>⇒ 모바일과 같이 업로드 대역폭이 상대적으로 작은 경우에는 특히 HTTP 헤더 압축 방식이 유용하다. 오늘날의 HTTP 헤더는 평균 2KB 가량이고, 점점 더 커지는 추세이기 때문에 HTTP 헤더 압축의 가치는 앞으로 더 커질 것이라고 한다.</p>\n<h3 id=\"binary-protocol\" style=\"position:relative;\"><a href=\"#binary-protocol\" aria-label=\"binary protocol permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Binary protocol</h3>\n<p>텍스트 프로토콜에서 바이너리 프로토콜로 변화됬다. 기존 HTTP/1 에서 사용된 frame 의 복잡성을 편리하게 해주고, 텍스트와 공백들이 섞여 혼동이 발생하던 명령들보다 명령어를 단순하게 구현할 수 있다.</p>\n<p>바이너리 프로토콜을 사용하면 다음과 같은 이점들이 있다.</p>\n<ol>\n<li>데이터 파싱이 더 빠르고, 오류 발생 가능성이 낮음.</li>\n<li>\n<p>네트워크 리소스의 효과적 사용</p>\n<ul>\n<li>네트워크 지연 시간을 줄이고 처리량을 개선</li>\n</ul>\n</li>\n<li>\n<p>텍스트 특성과 관련된 보안 문제를 해결할 수 있음</p>\n<ul>\n<li>(EX. Response Splitting Attacks - 요청 파라미터에 개행문자(CR/LF) 포함 시 응답이 분리될 수 있음. 공격자는 악성코드 포함하여 XSS 및 캐시를 훼손.)</li>\n</ul>\n</li>\n<li>\n<p>HTTP/2 의 다른 기능 활성화</p>\n<ul>\n<li>압축, 멀티플렉싱, 우선 순위 지정, 흐름 제어 및 TLS 의 효과적인 처리</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"server-push\" style=\"position:relative;\"><a href=\"#server-push\" aria-label=\"server push permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Server Push</h3>\n<p>서버는 요청되지 않았지만 향후 요청에서 예상되는 추가 정보를 클라이언트에게 전송할 수 있다.</p>\n<p>예를 들어, 클라이언트(브라우저)가 HTML 문서를 요청하고 해당 HTML 에 여러 개의 리소스(CSS, image 등)가 포함되어 있다고 가정한다. HTTP/1.1 에서 클라이언트는 요청한 HTML 문서를 수신한 후 HTML 문서를 해석하면서 필요한 리소스를 재요청하는 반면, HTTP/2 에서는 Server Push 기법을 통해 클라이언트가 요청하지 않은 (HTML 문서에 포함 된 리소스들) 리소스를 Push 해주는 방법으로 <span style='background-color: #fff5b1'><strong>클라이언트 요청을 최소화하여 성능 향상</strong></span>을 이끌어낸다.</p>\n<p>이를 PUSH<em>PROMISE 라고 부르고, PUSH</em>PROMISE 를 통해서 서버가 전송한 리소스는 클라이언트가 요청하지 않는다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 602px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB0UlEQVQoz1VSWXLbMAzVMXuQ9D797Uk842QUK94qWYu1WkusxZJI7a8gk7QKZ6gHQuAj8ABlWRaIJfDLnucZRVkiLwrc73fkeY6C7JJ84jwMw7c7aw7ly/j0iA/maYLrXuE4NkzTJHTo7ML3PDpfwNp2FQ+sOZRp/jDYMKHqgWYCakqAkbsjfz+MqOsajDHwTx+bP2KqfkHFJ0kmqvqXoVji50m/4HQ+wwsC+GGI6HZDHMe4EYqdpCmOpxMOxyNcz0ecJEgeHNP/RKG8BDXCqgOnV19eNWy3WxiGAdu2pWYis5ZKbJoGnHPs93tsNhv80XUpS1ZzsK6Httuh6zooP37b+KVmsgT17QBVVWE7V3o9RVlVkrAhQkEqCEUF2+dnWLaDLEuRNCM044qfT09Sa0UzfaQ5XSTtzrqBw5uGy8WQ4tdE2BMJZy06ziTalond7hW6yNCxZIZ1yxCSTOJBpWsbLGOPgmq2ogx2EMMOE7jxO9KqxfuDIaMtsGh7+GkOi2IsP4ZHMRHJNU4zkbHvTRHOnnQcye7GBW03oqFd84FwkFjzXtp8nEEhMr5fd0Q0ZT2YYgbFelQlAt9HliaIohBJTF0mjAk9akROw72OXw/4X8hJ959Di8KqAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"http_server_push.png\"\n        title=\"http_server_push.png\"\n        src=\"/static/2d4fb7235ec244ff3bc9fb10f8d03091/32056/http_server_push.png\"\n        srcset=\"/static/2d4fb7235ec244ff3bc9fb10f8d03091/5a46d/http_server_push.png 300w,\n/static/2d4fb7235ec244ff3bc9fb10f8d03091/0a47e/http_server_push.png 600w,\n/static/2d4fb7235ec244ff3bc9fb10f8d03091/32056/http_server_push.png 602w\"\n        sizes=\"(max-width: 602px) 100vw, 602px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>Server Push 는 다음과 같은 부분에서 유용하다.</p>\n<ol>\n<li>\n<p>클라이언트는 푸시 된 리소스를 캐시에 저장</p>\n<ul>\n<li>캐시 된 리소스를 여러 페이지에 걸쳐 재사용 할 수 있음.</li>\n</ul>\n</li>\n<li>서버는 멀티플레싱으로 [요청한 정보 + 푸시 할 리소스] 전송 가능</li>\n<li>서버는 푸시되는 리소스의 우선 순위를 지정할 수 있음.</li>\n<li>\n<p>클라이언트의 선택적 리소스 관리</p>\n<ul>\n<li>푸시 된 리소스를 거부하거나 서버 푸시를 비활성화할 수 있음.</li>\n</ul>\n</li>\n<li>클라이언트가 멀티플렉싱되는 푸시 스트림 수 제한 가능</li>\n</ol>\n<h3 id=\"stream-prioritization\" style=\"position:relative;\"><a href=\"#stream-prioritization\" aria-label=\"stream prioritization permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Stream Prioritization</h3>\n<p>클라이언트가 선호하는 응답 수신 방식을 지정해서 응답받을 수 있다.</p>\n<p>문서 내 CSS 파일 1개와 이미지파일 2개 가 존재하고, 이를 클라이언트가 요청한다고 가정하겠다. 이미지 파일보다 CSS 파일의 수신이 늦어진다면 브라우저 렌더링 문제가 생길 수있는데, HTTP/2 는 이런 상황을 고려해서 <span style='background-color: #fff5b1'><strong>리소스간 의존관계에 따른 우선순위를 설정</strong></span>하고 리소스 로드 문제를 해결할 수 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 852px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABGklEQVQoz32R626EIBCFff8n66+mTVuTNnXdmqjdFRUWLyDgKeiCmrQ9ySRkGL45M0Rd14ExBiHEErMx8JqmaQkvY++WmnkOOa01pJTL2eWjUKwNlNJQRh+KXXi5B76Bh7omSqkNSAgBuRI81I/IyAnN8xv0HVqWJfI8D0DOOZIkOQAppTil6QZ0dqWQqKYaneDQ9AYzr2MPdh19xwPQOWFtewD2/QhmofN9kjDyXr74XDOcCQ15OgjEBdntuEd1fUFa1ciatXHkHv8WTu04gY7bpwyjQs56u5J1Am0klKhAqAX34m+He5deoxZ4al5RFxnYVxbyRFLE9B30lIJX1f8j790K6ybuPnEjF4jvyw5Y42NIMRYlpN3lD4yPcPSeiwZeAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"http2_stream_prioritization.png\"\n        title=\"http2_stream_prioritization.png\"\n        src=\"/static/06783d92ae35428c68b55139e93b311c/47ff6/http2_stream_prioritization.png\"\n        srcset=\"/static/06783d92ae35428c68b55139e93b311c/5a46d/http2_stream_prioritization.png 300w,\n/static/06783d92ae35428c68b55139e93b311c/0a47e/http2_stream_prioritization.png 600w,\n/static/06783d92ae35428c68b55139e93b311c/47ff6/http2_stream_prioritization.png 852w\"\n        sizes=\"(max-width: 852px) 100vw, 852px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span> </p>\n<p>&#x3C;참고 자료></p>\n<ul>\n<li><a href=\"https://gngsn.tistory.com/99#recentComments\">https://gngsn.tistory.com/99#recentComments</a></li>\n<li><a href=\"https://east-star.tistory.com/18\">https://east-star.tistory.com/18</a></li>\n<li><a href=\"https://ijbgo.tistory.com/26\">https://ijbgo.tistory.com/26</a></li>\n</ul>","frontmatter":{"title":"HTTP/2 까지 변천사","date":"June 19, 2022"}}},"pageContext":{"slug":"/network/http2/","previous":{"fields":{"slug":"/kubernetes/6_velero/"},"frontmatter":{"title":"6. Velero 구축 - 백업 및 복구","category":"kubernetes","draft":false}},"next":null}},"staticQueryHashes":["3128451518","521680639"]}